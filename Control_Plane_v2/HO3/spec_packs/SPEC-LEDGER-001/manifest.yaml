spec_id: SPEC-LEDGER-001
title: Ledger System
framework_id: FMWK-002
status: active
version: 1.0.0
plane_id: ho3
assets:
- HOT/kernel/ledger_client.py
- HOT/kernel/ledger_factory.py
- HOT/scripts/ledger_repair.py
- HOT/scripts/ledger_tier.py
- HOT/tests/test_ledger_chain.py
- HOT/tests/test_tier_ledger.py
- HOT/tests/test_chain.py
- HOT/tests/test_chain_genesis.py
interfaces:
- name: append_entry
  description: Append entry to ledger with hash chaining
- name: verify_chain
  description: Verify ledger hash chain integrity
- name: create_tier_ledger
  description: Create ledger for a specific tier
invariants:
- Ledger entries MUST be append-only
- Hash chain MUST be verified on read
- Corrupted entries MUST fail-closed
acceptance:
  tests:
  - pytest tests/test_ledger_chain.py
  - pytest tests/test_tier_ledger.py
  checks:
  - python3 -c 'from lib.ledger_client import LedgerClient; print(LedgerClient)'
dependencies:
- spec_id: SPEC-INT-001
  interfaces:
  - compute_file_hash
non_goals:
- This spec does NOT handle ledger compaction
- This spec does NOT handle ledger replication
