spec_id: SPEC-PKG-001
title: Package Management
framework_id: FMWK-007
status: active
version: 1.0.0
plane_id: hot
assets:
- HOT/kernel/packages.py
- HOT/kernel/provenance.py
- HOT/kernel/signing.py
- HOT/kernel/package_audit.py
- HOT/scripts/package_pack.py
- HOT/scripts/package_install.py
- HOT/scripts/package_uninstall.py
- HOT/scripts/package_sync.py
- HOT/scripts/package_factory.py
- HOT/scripts/validate_packages.py
- HOT/scripts/validate_package_manifest.py
- HOT/scripts/pkgutil.py
- HOT/scripts/rebuild_derived.py
- HOT/scripts/rebuild_derived_registries.py
- HOT/scripts/package_trace.sh
- HOT/tests/test_packages.py
- HOT/tests/test_factory_canary.py
- HOT/tests/test_provenance.py
- HOT/tests/test_manifest_v11.py
- HOT/tests/test_pkgutil.py
- HOT/tests/test_idempotency.py
- HOT/scripts/generate_baseline_manifest.py
- HOT/scripts/install_baseline.py
- HOT/schemas/package_manifest.json
- HOT/registries/packages_registry.csv
interfaces:
- name: pack_archive
  description: Create tar.gz package with manifest
- name: install_package
  description: Install package with hash verification
- name: uninstall_package
  description: Uninstall package and update registry
- name: sign_package
  description: Create detached signature for package
- name: verify_signature
  description: Verify package signature
invariants:
- Packages MUST include SHA256 digest
- Installation MUST verify hash before extraction
- Package manifest MUST conform to schema
- All package operations MUST be logged to ledger
acceptance:
  tests:
  - pytest tests/test_packages.py
  - pytest tests/test_provenance.py
  - pytest tests/test_factory_canary.py
  checks:
  - python3 scripts/validate_packages.py
dependencies:
- spec_id: SPEC-LEDGER-001
  interfaces:
  - append_entry
- spec_id: SPEC-INT-001
  interfaces:
  - compute_file_hash
non_goals:
- This spec does NOT handle package versioning conflicts
- This spec does NOT handle package dependency resolution
