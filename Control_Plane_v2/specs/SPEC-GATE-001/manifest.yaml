spec_id: SPEC-GATE-001
title: "Gate Operations"
framework_id: FMWK-000
status: active
version: 1.0.0
plane_id: ho3

assets:
  - lib/gate_operations.py
  - lib/workspace.py
  - lib/atomic.py
  - scripts/gate_check.py
  - scripts/compute_wo_hash.py
  - scripts/validate_work_order.py
  - scripts/apply_work_order.py
  - scripts/quarantine_orphans.py
  - schemas/work_order.schema.json
  - schemas/framework.schema.json
  - schemas/spec.schema.json
  - config/governed_roots.json

interfaces:
  - name: run_gate_sequence
    description: Execute G0-G6 gate sequence
  - name: create_workspace
    description: Create isolated execution workspace
  - name: atomic_apply
    description: Apply changes atomically with rollback
  - name: compute_wo_hash
    description: Compute deterministic Work Order hash
  - name: validate_work_order
    description: Validate Work Order against schema

invariants:
  - "Gates MUST execute in order G0-G6"
  - "Gate failure MUST abort execution"
  - "Workspace MUST be isolated from authoritative plane"
  - "APPLY MUST be atomic (all-or-nothing)"

acceptance:
  tests:
    - "pytest tests/test_gates.py"
  checks:
    - "python3 scripts/gate_check.py --help"

dependencies:
  - spec_id: SPEC-INT-001
    interfaces: [verify_integrity]
  - spec_id: SPEC-LEDGER-001
    interfaces: [append_entry]

non_goals:
  - "This spec does NOT handle gate customization"
  - "This spec does NOT handle async gate execution"
